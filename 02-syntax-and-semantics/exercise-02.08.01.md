# Exercise 2.8.1

> For the following expressions `e` find values `v` such that `[] \vdash e \triangleright v` is derivable.
> Draw the derivations.  
> 1. `(λ x. x) 1`  
> 2. `(λ x. λ y. x) 1`  
> 3. `(λ f. λ x. f x) (λ x. x)`  
> 4. `let rec f x = x in f`  
> 5. `(λ y. let rec f x = x in f ) 5`

---



### 1.

We have the following derivation for the expression `(λ x. x) 1`:
```text
----------------------------     --------------     -----------------
[]  ⊢  λ x. x  ⊳  (x, x, [])     []  ⊢  1  ⊳  1     x ⊳ 1  ⊢  x  ⊳  1
---------------------------------------------------------------------
                       []  ⊢  (λ x. x) 1  ⊳ 1
```

We can verify our result with utop:
```ocaml
# (fun x -> x) 1;;
- : int = 1
```



### 2.

We have the following derivation for the expression `(λ x. λ y. x) 1`:
```text
--------------------------------------     --------------     ------------------------------------
[]  ⊢  λ x. λ y. x  ⊳  (x, λ y. x, [])     []  ⊢  1  ⊳  1     x ⊳ 1  ⊢  λ y. x  ⊳  (y, x, [x ⊳ 1])
--------------------------------------------------------------------------------------------------
                            []  ⊢  (λ x. λ y. x) 1  ⊳  (y, x, [x ⊳ 1])
```



### 3.

We have the following derivation for `(λ f. λ x. f x) (λ x. x)`:
```text
------------------------------------------     ----------------------------     ----------------------------------------------------------
[]  ⊢  λ f. λ x. f x  ⊳  (f, λ x. f x, [])     []  ⊢  λ x. x  ⊳  (x, x, [])     f ⊳ (x, x, [])  ⊢  λ x. f x  ⊳  (x, f x, [f ⊳ (x, x, [])])
------------------------------------------------------------------------------------------------------------------------------------------
                                      []  ⊢  (λ f. λ x. f x) (λ x. x)  ⊳  (x, f x, [f ⊳ (x, x, [])])
```



### 4.

We have the following derivation for `let rec f x = x in f`:
```text
  -----------------------------------------
  f ⊳ (f, x, x, [])  ⊢  f  ⊳  (f, x, x, [])
---------------------------------------------
[]  ⊢  let rec f x = x in f  ⊳  (f, x, x, [])
```


### 5.

We have the following derivation for `(λ y. let rec f x = x in f) 5`:
```text
                                                                                          y ⊳ 5, f ⊳ (f, x, x, [y ⊳ 5])  ⊢  f  ⊳  (f, x, x, [y ⊳ 5])
------------------------------------------------------------------     --------------     ----------------------------------------------------------
[]  ⊢  λ y. let rec f x = x in f  ⊳  (y, let rec f x = x in f, [])     []  ⊢  5  ⊳  5       y ⊳ 5  ⊢  let rec f x = x in f  ⊳  (f, x, x, [y ⊳ 5])
----------------------------------------------------------------------------------------------------------------------------------------------------
                                            []  ⊢  (λ y. let rec f x = x in f) 5  ⊳  (f, x, x, [y ⊳ 5])
```
